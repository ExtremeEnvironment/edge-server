<md-toolbar>
  <div class="md-toolbar-tools">
    <h2>
      <span>Katastrophe wählen:</span>
    </h2>
    <span flex></span>
    <md-button class="md-raised" ui-sref="newdisaster" aria-label="Learn More">
      Neue Katastrophe
    </md-button>
  </div>
</md-toolbar>

<div class="md-whiteframe-z1" flex>
  <div layout="column">
    <md-input-container class="md-select-menu">
      <md-select ng-model="selectedItem" md-selected-text="getSelectedText()">
        <md-optgroup label="Katastrophen">
          <md-option ng-value="disaster" ng-repeat="disaster in disasters"> 
            <div class="md-ripple-container" layout="row">
              <div flex>
                <h5>{{ disaster.disasterType.name }}</h5>
              </div>
              <div flex>
                <h5>{{ disaster.title }}</h5>
              </div>
              <div flex>
                <h6>{{ disaster.area }}</h6>
              </div>
            </div>
            <md-divider></md-divider>
          </md-option>
        </md-optgroup>
      </md-select>
    </md-input-container>
  </div>

  <md-subheader class="md-no-sticky" >Wo suchen sie etwas?</md-subheader>
  <div id="controllerMaps">
    <label class="btn btn-default" ng-model="radioModel" ng-click='removeMarker()'>Delete Marker</label>
  </div>
  <div id=map></div>
</div>

<div layout="column">
  <div flex>
    <form ng-submit="$event.preventDefault()">
      <md-autocomplete
      ng-disabled="vm.isDisabled"
      md-no-cache="vm.noCache"
      md-selected-item="vm.selectedItem"
      md-search-text-change="vm.searchTextChange(vm.searchText)"
      md-search-text="vm.searchText"
      md-selected-item-change="vm.selectedItemChange(item)"
      md-items="item in vm.querySearch(vm.searchText)"
      md-item-text="item.display"
      md-min-length="0"
      placeholder="Was brauchen sie?">
      <md-item-template>
        <span md-highlight-text="vm.searchText" md-highlight-flags="^i">{{item.display}}</span>
      </md-item-template>
    </md-autocomplete>
  </form>
</div>



<div class="md-whiteframe-z1" flex>
  <div flex layout="row">

    <md-list class="md-dense">
      <md-subheader class="md-no-sticky" ng-click="filters.category = ''">Kategorien(Alle)</md-subheader>
      <md-divider></md-divider>
      <md-list-item class="md-2-line" ng-repeat="category in categories" ng-click="filters.category = category">
        <div class="md-list-item-text">
          <h3> {{category}} </h3>
        </div>
        <md-icon md-svg-icon="{{phone.options.icon}}"  ng-class="{'md-avatar-icon': phone.options.avatarIcon}"></md-icon>
        <md-divider flex></md-divider>
      </md-list-item>
    </md-list>

    <md-divider></md-divider>

    <md-list class="md-dense" flex>
      <md-subheader class="md-no-sticky">Resourcen</md-subheader>
      <md-divider></md-divider>
      <md-virtual-repeat-container style="height:400px">
        <md-list-item md-virtual-repeat="item in items | filter:filters" ng-click="pushToArray(item)" class="repeated-item md-2-line" flex="">
          <div class="md-list-item-text">
            <h3> {{ item.name }} </h3>
            <h4>  {{ item.category }} </h4>
          </div>
          <md-divider flex></md-divider>
        </md-list-item>
      </md-virtual-repeat-container>
    </md-list>
  </div>
</div>

<div class="md-whiteframe-z1">
  <div layout="row">
    <md-list flex>
      <md-subheader class="md-no-sticky">Gewählte Items: </md-subheader>
      <md-list-item class="md-1-line" ng-repeat="item in itemToDB.actionObjects">
        <div class="md-list-item-text">
          <h4> {{item}} </h4>
        </div>
        <md-button class="md-secondary md-icon-button" ng-click="delFromArray(item)"  aria-label="call">
          <md-icon md-svg-icon="content/images/clear.svg"></md-icon>
        </md-button>
      </md-list-item>
    </md-list>
  </div>
</div>
<md-button class="md-raised"  ng-click="writeDB()" >Abgeben</md-button>
</div>
